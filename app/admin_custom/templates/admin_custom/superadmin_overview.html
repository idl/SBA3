{% extends "admin_custom/admin_custom_base.html" %}
{% load bootstrap3 %}

{% block admin_main_content %}
  {% bootstrap_messages %}
  <div class="row">
    <div class="col-xs-12">
      <h2 class="text-center">Superadmin Panel</h2>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col-xs-12 col-sm-3">
      <h2 class="h4 no-margin-top">Create a new administrator</h2>
      <div class="side-form-wrapper">
        <form action="{% url 'superadmin_create_school' %}" method="post" class="form" role="form">
          {% csrf_token %}
          {% bootstrap_form superadmin_add_admin_form %}
          {% buttons %}
            <button type="submit" class="btn btn-primary btn-block">
              CREATE ADMINISTRATOR
            </button>
          {% endbuttons %}
        </form>
      </div>
      <h2 class="h4 no-margin-top">Create a new school</h2>
      <div class="side-form-wrapper">
        <form action="{% url 'superadmin_create_school' %}" method="post" class="form" role="form">
          {% csrf_token %}
          {% bootstrap_form superadmin_create_school_form %}
          {% buttons %}
            <button type="submit" class="btn btn-primary btn-block">
              CREATE SCHOOL
            </button>
          {% endbuttons %}
        </form>
      </div>
    </div>
    <div class="col-xs-12 col-sm-9">
        <h3 class="h4 text-bold pull-left"><strong>Please select a school for which view data:&emsp;</strong></h3>
        <form action="{% url 'superadmin_overview' %}" method="post" class="form-inline" role="form">
          {% csrf_token %}
          {% bootstrap_form superadmin_select_school_form %}
          {% buttons %}
            <button type="submit" class="btn btn-success btn-block">
              VIEW DATA
            </button>
          {% endbuttons %}
        </form>
      <hr>
      <h2 class="h3 no-margin-top">Administrators</h2>
      <table class="table table-bordered table-hover">
        <thead>
          <tr>
            <td><b>School</b></td>
            <td><b>Location</b></td>
            <td><b>Survey Title</b></td>
            <td><b>Date Added</b></td>
            <td><b>Last Login</b></td>
            <td><b>Actions</b></td>
          </tr>
        </thead>
        <tbody>
          {% for admin in admins_list %}
            <tr>
              <td>{{admin.email}}</td>
              <td>{{admin.school}}</td>
              <td>{{admin.is_superuser}}</td>
              <td>{{admin.date_joined}}</td>
              <td>{{admin.last_login}}</td>
              <td>
                <a href="{# url 'superadmin_edit_school' school_id #}"
                   class="btn btn-primary btn-xs" data-toggle="tooltip"
                   data-placement="top" title="Edit Admin Info">
                    {% bootstrap_icon 'pencil' %}
                </a>
                <a href="{# url 'superadmin_delete_school' school_id #}"
                   class="btn btn-danger btn-xs" data-toggle="tooltip"
                   data-placement="top" title="Delete Admin">
                    {% bootstrap_icon 'remove' %}
                </a>
              </td>
            </tr>
          {% empty %}
            <tr>
              <td colspan="4">There aren't any schools. Please add one by using the form to the left.</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
      <hr>
      <h2 class="h3 no-margin-top">Schools</h2>
      <table class="table table-bordered table-hover">
        <thead>
          <tr>
            <td><b>School</b></td>
            <td><b>Location</b></td>
            <td><b>Survey Title</b></td>
            <td><b>Date Added</b></td>
            <td><b>Actions</b></td>
          </tr>
        </thead>
        <tbody>
          {% for school in schools_list %}
            <tr>
              <td>{{school.name}}</td>
              <td>{{school.location}}</td>
              <td>{{school.survey_title}}</td>
              <td>{{school.date_created}}</td>
              <td>
                <a href="{% url 'admin_school_overview' school.id %}"
                   class="btn btn-default btn-xs" data-toggle="tooltip"
                   data-placement="top" title="View School Results">
                    {% bootstrap_icon 'eye-open' %}
                </a>
                <a href="{# url 'superadmin_edit_school' school_id #}"
                   class="btn btn-primary btn-xs" data-toggle="tooltip"
                   data-placement="top" title="Edit School Info">
                    {% bootstrap_icon 'pencil' %}
                </a>
                <a href="{# url 'superadmin_delete_school' school_id #}"
                   class="btn btn-danger btn-xs" data-toggle="tooltip"
                   data-placement="top" title="Delete School">
                    {% bootstrap_icon 'remove' %}
                </a>
              </td>
            </tr>
          {% empty %}
            <tr>
              <td colspan="4">There aren't any schools. Please add one by using the form to the left.</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}


{% block admin_main_content_js %}
<script>
  $(document).ready(function() {
    $('[data-toggle="tooltip"]').tooltip();
  });
</script>
{% endblock %}

{% block admin_modals_content %}
  <div class="modal fade">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Modal title</h4>
        </div>
        <div class="modal-body">
          <p>One fine body&hellip;</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->
{% endblock %}

{% block admin_modals_js %}
{% endblock %}