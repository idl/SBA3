{% extends 'base.html' %}

{% block script %}
  {% include 'script.html' %}
  <script>
  $('document').ready(function() {
    $('#prev').click(function() {
      $('form').attr('action', '{% url "previous"%}');
    });
    $('#next').click(function() {
      console.log($('select, input'));
      if($('select, input').val() == '') {
        e.preventDefault();
        $('#error').show();
      } else {
        $('form').attr('action', '{% url "next"%}');
      }
    });
    $('#submit').click(function(e) {
      console.log($('select, input').val());
      if($('select, input').val() == '') {
        e.preventDefault();
        $('#error').show();
      } else {
        $('form').attr('action', '{% url "submit"%}');
      }
    });
  });
  </script>
{% endblock %}

{% block body %}
  {% if error %}
      <p class="error">Please fill in all fields </p>
  {% endif %}
  <form method='post'>
    {% csrf_token %}
    <table class="table table-hover">
      {% block table_body %}
      {% endblock %}
    </table>
    <input type='hidden' name='pagenum' value='{{pagenum}}'>
    {% if pagenum != "1" %}
      <input type='submit' class='btn' id='prev' value='Previous'>
    {% endif %}
    {% if pagenum == "11" %}
      <input type='submit' class='btn' id='submit' value='Submit'>
    {% else %}
      <input type='submit' class='btn' id='next' value='Next'>
    {% endif %}
  </form>
{% endblock %}